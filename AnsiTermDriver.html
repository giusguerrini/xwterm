<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>xwterm / AnsiTerm: Class: AnsiTermDriver</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: AnsiTermDriver</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>AnsiTermDriver<span class="signature">(params)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>This is the base class from which AnsiTerm's communication
drivers inherit the interface.</p>
<p>Internal drivers <a href="AnsiTermHttpDriver.html"><code>AnsiTermHttpDriver</code></a> and <a href="AnsiTermWebSocketDriver.html"><code>AnsiTermWebSocketDriver</code></a>
are derivations of this class.</p>
<p>The programmer can write their own driver to connect the terminal to the
backend that implements the specific application.</p>
<p>AnsiTerm uses public methods of this interface to communicate with the
backend.</p>
<p>Programmers who need to write a custom driver are not required to
implement all the methods provided by this interface. In particular,
it is unlikely that it is ever necessary to rewrite the callback registration
methods, since the base class already implements a sufficiently general mechanism.</p>
<p>A typical driver will redefine these methods:</p>
<ul>
<li><code>_tx</code></li>
<li><code>_set_connection_state</code></li>
<li><code>start</code></li>
<li><code>_stop</code></li>
<li><code>close</code></li>
<li><code>setSize</code></li>
</ul></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="AnsiTermDriver"><span class="type-signature"></span>new AnsiTermDriver<span class="signature">(params)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This is the base constructor. It is strongly recommended that
the constructor of derived classes invokes the base constructor
as its first instruction (&quot;super(params)&quot;).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>parameters, not used by the base, but stored.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3763">line 3763</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    
        <h3 class="subsection-title">Classes</h3>

        <dl>
            <dt><a href="AnsiTermDriver.html">AnsiTermDriver</a></dt>
            <dd></dd>
        </dl>
    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="_new_data"><span class="type-signature"></span>_new_data<span class="signature">(text)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This method is used by specialized drivers (extensions) to notify the client
(i.e., the terminal) that there are new characters to process.
If you are thinking of overriding it, think again.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>text</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>the new sequence of characters</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3789">line 3789</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_set_connection_state"><span class="type-signature"></span>_set_connection_state<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This method may be used by extensions to notify a change
in the connection state.
Never override it.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3888">line 3888</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_stop"><span class="type-signature"></span>_stop<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This method may be used by extensions to put the base object
in a consistent state after an error. Do not override it.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3866">line 3866</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_tx"><span class="type-signature"></span>_tx<span class="signature">(text)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This method must be overridden by the extension to implement
the protocol-specific transmitter.
In its base version (defined only for debugging purposes),
it sends characters back to the terminal (after some manipulation).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>text</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The sequence of chracters to send</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3905">line 3905</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="close"><span class="type-signature"></span>close<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This method closes the communication and releases the resources.
Extensions may override it, but it is advised to call the base method
at some point in the override (&quot;super.close()&quot;).</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3843">line 3843</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getConnectionState"><span class="type-signature"></span>getConnectionState<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    <p>Used by AnsiTerm to read the current connection state.
Extensions can set the connection state by invoking the <code>_set_connection_state</code> base method.</p>
<p>It is unlikely that a custom driver will ever need to override this
method.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3832">line 3832</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The current connection state.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="registerOnConnectionChange"><span class="type-signature"></span>registerOnConnectionChange<span class="signature">(on_connection_change)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Used by AnsiTerm to register a notification callback
to be notified of connection state changes.
The callback is invoked when an extension calls the <code>_set_connection_state</code> base method.</p>
<p>It is unlikely that a custom driver will ever need to override this
method.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>on_connection_change</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback function</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3818">line 3818</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="registerOnDataReceived"><span class="type-signature"></span>registerOnDataReceived<span class="signature">(on_data_received)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Used by AnsiTerm to register a notification callback
to be notified of new incoming data.
The callback is invoked when an extension calls the <code>_new_data</code> base method.</p>
<p>It is unlikely that a custom driver will ever need to override this
method.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>on_data_received</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The callback function</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3805">line 3805</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="send"><span class="type-signature"></span>send<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This method may be used by the terminal to send data (e.g.,
keyboard events).
Never override it.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3878">line 3878</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setSize"><span class="type-signature"></span>setSize<span class="signature">(nlines, ncolumns)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This method is used by the terminal to set the terminal size.
Extensions can override it to implement the corresponding protocol-specific
operation.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>nlines</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>Number of lines</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ncolumns</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last"><p>Number of columns</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3921">line 3921</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="start"><span class="type-signature"></span>start<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>This method opens the communication.
Extensions may override it, but it is recommended to call the base method
at some point in the override (&quot;super.start()&quot;), since it sends notifications
to the client.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xwterm.js.html">xwterm.js</a>, <a href="xwterm.js.html#line3854">line 3854</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AnsiTerm.html">AnsiTerm</a></li><li><a href="AnsiTermDecoration.html">AnsiTermDecoration</a></li><li><a href="AnsiTermDriver.html">AnsiTermDriver</a></li><li><a href="AnsiTermHttpDriver.html">AnsiTermHttpDriver</a></li><li><a href="AnsiTermWebSocketDriver.html">AnsiTermWebSocketDriver</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-10-basic-page.html">10-basic-page</a></li><li><a href="tutorial-40-communication-drivers.html">40-communication-drivers</a></li><li><a href="tutorial-90-sample-server.html">90-sample-server</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Apr 13 2025 22:54:28 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>